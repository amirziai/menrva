<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="X">
        <meta name="author" content="X">

        <title>Menrva</title>

        <!-- CSS -->
        <link href="https://s3.amazonaws.com/midscapstone/bootstrap.min.css" rel="stylesheet">
        <link href="https://s3.amazonaws.com/midscapstone/agency.css" rel="stylesheet">
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
        <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/dropzone/3.8.4/css/dropzone.css">

        <script src="https://s3.amazonaws.com/midscapstone/jquery.js"></script>

        <script>
            $(document).ready(function (e) {
                // Dropzone.autoDiscover = false;

                $("#xyz").dropzone({
                    url: "upload",
                    addRemoveLinks: true,
                    params: {'description': $("#description").val(), 'name': $('#name').val(), 'input': $('#input').val(), 'output': $('#output').val(), 'link': $('#link').val()},
                    success: function (file, data) {
                        console.log(data);
                        if (data['status'] == 'ok') {
                            $("#model_id").text(data['uuid']);
                        }
                        else {
                            $("#model_id").text('Error');
                        }
                    },
                    error: function (file, response) {
                        file.previewElement.classList.add("dz-error");
                    }
                });


            });

            function test() {
                console.log($("#description").val());
            }
        </script>

    </head>

    <body>
        <div class="container">
            <div class="col-md-12">
                <form class="form-horizontal dropzone" id="xyz">
                    <fieldset>

                    <!-- Form Name -->
                    <legend>Upload a model</legend>

                    <!-- Text input-->
                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Name</label>  
                      <div class="col-md-4">
                      <input id="name" name="name" type="text" placeholder="" class="form-control input-md">
                        
                      </div>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Description</label>  
                      <div class="col-md-4">
                      <input id="description" name="description" type="text" placeholder="" class="form-control input-md">
                        
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Input</label>  
                      <div class="col-md-4">
                      <input id="input" name="input" type="text" placeholder="" class="form-control input-md">
                        
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Output</label>  
                      <div class="col-md-4">
                      <input id="output" name="output" type="text" placeholder="" class="form-control input-md">
                        
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Link to docs</label>  
                      <div class="col-md-4">
                        <input id="link" name="link" type="text" placeholder="" class="form-control input-md">
                        
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Pickled model</label>  
                      <div class="col-md-4">
                            <input name="file" type="file" />
                        
                        <!-- <div id="dZUpload" class="dropzone">
                              <div class="dz-default dz-message dz-started"></div>
                        </div> -->
                        
                      </div>
                    </div>

                    <div class="form-group">
                      <label class="col-md-4 control-label" for="textinput">Model ID</label>  
                      <div class="col-md-4">
                            <span id="model_id">
                        </div>

                    </div>

                    </fieldset>
                    
                </form>

                
            </div>


            <script src="https://s3.amazonaws.com/midscapstone/bootstrap.min.js"></script>
            <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
            <script src="https://s3.amazonaws.com/midscapstone/classie.js"></script>
            <script src="https://s3.amazonaws.com/midscapstone/cbpAnimatedHeader.js"></script>
            <script src="https://s3.amazonaws.com/midscapstone/jqBootstrapValidation.js"></script>
            <script src="https://s3.amazonaws.com/midscapstone/agency.js"></script>
            <script src="https://rawgit.com/enyo/dropzone/master/dist/dropzone.js"></script>
            <script src="https://code.highcharts.com/highcharts.js"></script>
            <script src="https://code.highcharts.com/modules/exporting.js"></script>


    </body>

</html>